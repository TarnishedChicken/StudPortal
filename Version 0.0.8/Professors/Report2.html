<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="/Styles/Style.css" />
  <link rel="icon" type="image/x-icon" href="/img/tcu.png">
  <link href="https://cdn.jsdelivr.net/npm/remixicon@4.3.0/fonts/remixicon.css" rel="stylesheet" />
  <title>Report</title>
</head>
<body>

  <nav class="sidebar close">
    <header>
      <div class="image-text">
        <span class="image">
          <img src="/img/tcu.png" alt="logo" />
        </span>
        <div class="text header-text">
          <span class="name">Taguig City University</span>
          <span class="profession">Instructors</span>
        </div>
      </div>
      <i class="ri-arrow-right-s-line toggle"></i>
    </header>

    <div class="menu-bar">
      <div class="menu">
        <li class="search-box">
          <i class="ri-search-line icon"></i>
          <input type="text" placeholder="Search..." />
        </li>
        <ul class="menu-links">
          <li class="nav-link">
            <a href="Home2.html"><i class="ri-home-4-line icon"></i><span class="text nav-text">Home</span></a>
          </li>
          <li class="nav-link">
            <a href="#"><i class="ri-user-line icon"></i><span class="text nav-text">Profile</span></a>
          </li>
          <li class="nav-link">
            <a href="Subjects2.html"><i class="ri-graduation-cap-fill icon"></i><span class="text nav-text">Classes Handeled</span></a>
          </li>
          <li class="nav-link">
            <a href="Report2.html"><i class="ri-file-line icon"></i><span class="text nav-text">Reports</span></a>
          </li>
          <li class="nav-link">
            <a href="#"><i class="ri-team-line icon"></i><span class="text nav-text">About</span></a>
          </li>
          <li class="nav-link">
            <a href="#"><i class="ri-questionnaire-line icon"></i><span class="text nav-text">Help & Support</span></a>
          </li>
        </ul>
      </div>

      <div class="bottom-content">
        <li>
          <a href="/Login/login.html"><i class="ri-logout-box-line icon"></i><span class="text nav-text">Logout</span></a>
        </li>
        <li class="mode">
          <div class="moon-sun">
            <i class="ri-contrast-2-line icon moon"></i>
            <i class="ri-sun-line icon sun"></i>
          </div>
          <span class="mode-text text">Dark Mode</span>
          <div class="toggle-switch">
            <span class="switch"></span>
          </div>
        </li>
      </div>
    </div>
  </nav>
  <!-- ====== REPORT PAGE WRAPPER ====== -->
<div class="report-page-wrapper">
  <img src="/img/tcu2.jpg" alt="Report Banner" class="hero-banner1">

  <section class="report-header">
    <h1 class="report-title"> Instructor Report</h1>
    <p class="report-subtitle">Input grades, View, and Export Grades</p>
  </section>
</div>

<!-- INSTRUCTOR GRADE TABLE SECTION -->
<section class="grade-list-section">
  <h2 class="grade-title">Grade List :</h2>

  <!-- GRADE SWITCHER -->
  <div class="grade-switcher" id="gradeSwitcher">
      <div class="grade-item" data-class="GRP1">BSIS-1B</div>
      <div class="grade-item" data-class="GRP2">BSIS-2B</div>
      <div class="grade-item" data-class="GRP3">BSIS-3B</div>
  </div>

  <!-- TABLE -->
  <div class="grade-table-container">
    <table class="grade-table">
      <thead>
        <tr>
          <th>Student ID</th>
          <th>Name</th>
          <th>Course</th>
          <th>Midterm (50%)</th>
          <th>Finals (50%)</th>
          <th>Final %</th>
          <th>Final Grade</th>
          <th>Remark</th>
        </tr>
      </thead>

      <tbody id="gradeTableBody">
        <tr>
          <td>2025-001</td>
          <td>Juan Dela Cruz</td>
          <td>BSIT</td>
          <td><input type="number" min="0" max="100" class="grade-input midterm" oninput="this.value = Math.min(this.value, 100)"></td>
          <td><input type="number" min="0" max="100" class="grade-input finals" oninput="this.value = Math.min(this.value, 100)"></td>
          <td class="final-percent">—</td>
          <td class="final-grade">—</td>
          <td class="remark">—</td>
        </tr>

        <tr>
          <td>2025-002</td>
          <td>Maria Santos</td>
          <td>BSCS</td>
          <td><input type="number" min="0" max="100" class="grade-input midterm" oninput="this.value = Math.min(this.value, 100)"></td>
          <td><input type="number" min="0" max="100" class="grade-input finals" oninput="this.value = Math.min(this.value, 100)"></td>
          <td class="final-percent">—</td>
          <td class="final-grade">—</td>
          <td class="remark">—</td>
        </tr>
      </tbody>
    </table>
  </div>
  <br>
  <button id="submit-grades-btn1">Submit</button>
  <button id="export-grades-btn2">Export</button>
</section>
<br>
<hr>
<br>
<script>
  document.addEventListener("input", function (e) {
  if (e.target.classList.contains("grade-input")) {
    const row = e.target.closest("tr");
    const mid = parseFloat(row.querySelector(".midterm").value) || 0;
    const fin = parseFloat(row.querySelector(".finals").value) || 0;

    const finalPercent = (mid * 0.5) + (fin * 0.5);
    row.querySelector(".final-percent").textContent = finalPercent.toFixed(2);

    // Convert to final grade (sample formula)
    let finalGrade = finalPercent >= 75 ? "Passed" : "Failed";
    row.querySelector(".final-grade").textContent = finalPercent.toFixed(0);
    row.querySelector(".remark").textContent = finalGrade;
  }
});


document.addEventListener("DOMContentLoaded", () => {
  const gradeItems = document.querySelectorAll(".grade-item");
  const gradeTableBody = document.getElementById("gradeTableBody");

  // SAMPLE DATA (you can replace later)
  const gradeData = {
    GRP1: [
      { id: "2025-001", name: "Juan Dela Cruz", course: "BSIT" },
      { id: "2025-002", name: "Maria Santos", course: "BSCS" }
    ],
    GRP2: [
      { id: "2025-003", name: "Carlos Perez", course: "BSBA" },
      { id: "2025-004", name: "Ana Dizon", course: "BSIT" }
    ],
    GRP3: [
      { id: "2025-005", name: "Luke Reyes", course: "BSHM" }
    ]
  };

  gradeItems.forEach(item => {
    item.addEventListener("click", () => {
      // Remove active class
      gradeItems.forEach(i => i.classList.remove("active"));
      item.classList.add("active");

      const selected = item.dataset.class;
      const students = gradeData[selected];

      // Load table
      gradeTableBody.innerHTML = "";

      students.forEach(s => {
        gradeTableBody.innerHTML += `
          <tr>
            <td>${s.id}</td>
            <td>${s.name}</td>
            <td>${s.course}</td>
            <td><input type="number" min="0" max="100" class="grade-input midterm" oninput="this.value = Math.min(this.value, 100)"></td>
            <td><input type="number" min="0" max="100" class="grade-input finals" oninput="this.value = Math.min(this.value, 100)"></td>
            <td class="final-percent">—</td>
            <td class="final-grade">—</td>
            <td class="remark">—</td>
          </tr>
        `;
      });
    });
  });

  // Auto-select the first group on page load
  if (gradeItems.length > 0) {
    gradeItems[0].click();
  }
});

</script>










<!-- ====== CHART.JS ====== -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
document.addEventListener("DOMContentLoaded", () => {
  const ctx = document.getElementById('gwaChart').getContext('2d');
  if (window.gwaChart) window.gwaChart.destroy();

  window.gwaChart = new Chart(ctx, {
    type: 'line',
    data: {
      labels: ['1st Sem 2023–2024', '2nd Sem 2023–2024', '1st Sem 2024–2025', '2nd Sem 2024–2025'],
      datasets: [{
        label: 'GWA',
        data: [1.85, 1.80, 1.75, 1.70],
        borderColor: '#9b7fd4',
        backgroundColor: 'rgba(155,127,212,0.2)',
        borderWidth: 3,
        fill: true,
        pointRadius: 5,
        pointBackgroundColor: '#9b7fd4',
        tension: 0.4
      }]
    },
    options: {
      responsive: true,
      maintainAspectRatio: false,
      animation: false,
      scales: {
        y: {
          beginAtZero: false,
          reverse: true,
          min: 2.5,
          max: 1.0,
          ticks: { stepSize: 0.25, color: '#2c3e50' }
        },
        x: { ticks: { color: '#2c3e50' } }
      },
      plugins: {
        legend: { display: false },
        tooltip: { callbacks: { label: ctx => `GWA: ${ctx.parsed.y}` } }
      }
    }
  });
});
</script>

<!-- Footer Section -->
<footer class="footer-section">
    <div class="footer-content">
        <div class="footer-left">
            <div class="footer-logo">
                <img src="/img/tcu.png" alt="TCU Logo" class="logo-image">
                <div class="footer-title">
                    <h2>TCU</h2>
                    <p class="footer-subtitle">Taguig City University</p>
                </div>
            </div>
            <p class="footer-description">
                TCU has garnered national recognition for its myriad of academic and extracurricular achievements. As a young institution, TCU showcases exemplary academic performance in board examinations, affirming its dedication to academic excellence. Reach out to us for inquiries, admissions, or collaborations.
            </p>
            <div class="footer-address">
                <strong>Address:</strong> Gen. Santos Ave., Central Bicutan, Taguig City<br>
                <strong>Phone:</strong> 8635-8300 | <strong>Registrar:</strong> 8635-8300 (7204) / 0961-887-2644
            </div>
        </div>

        <div class="footer-divider"></div>

        <div class="footer-right">
            <div class="footer-links-wrapper">
                <h3 class="quick-links-title">Quick Links</h3>
                <div class="quick-links">
                    <a href="#">Home</a>
                    <a href="#registrar">Profile</a>
                    <a href="#guidance">About</a>
                    <a href="#osas">Help & Support</a>
                </div>
            </div>

            <div class="footer-separator"></div>

            <div class="footer-badges">
                <div class="badge">
                    <img src="/img/I_Love_Taguig_logo_white.png" alt="I Love Taguig" class="badge-image">
                </div>
                <div class="badge">
                    <img src="/img/Seal_of_registration_AIBC_1_01Apr2024.png" alt="CHED COE" class="badge-image">
                </div>
            </div>
        </div>
    </div>

    <div class="scroll-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})"></div>

    <div class="footer-bottom">
        <p>&copy; 2025 Taguig City University. All rights reserved.</p>
    </div>
</footer>
  <script src="/Functions/classData.js"></script>
  <script src="/Functions/switchFunc.js"></script>
  <script src="/Functions/init-page.js"></script>
  <script src="/Functions/load-grades.js"></script>
</body>
</html>
